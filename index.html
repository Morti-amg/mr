<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MORTI //// AMG - Language Learning</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:'Roboto',sans-serif;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  transition:background-image 1s ease-in-out;
  color:black;
  background-size:cover;
  background-position:center;
  overflow-x:hidden;
  background-color:white;
}
header {
  width:100%;
  text-align:center;
  padding:20px;
  font-size:2.5em;
  font-weight:bold;
  color:black;
  letter-spacing:3px;
}
.card-wrapper {
  display:flex;
  flex-direction:column;
  align-items:center;
  margin-top:50px;
  width:100%;
}
.card-container {
  perspective:1000px;
}
.card {
  width:400px;
  height:220px;
  background:rgba(0,0,0,0.1);
  border-radius:20px;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  transition:transform 0.8s;
  transform-style:preserve-3d;
  box-shadow:0 8px 20px rgba(0,0,0,0.2);
  padding:20px;
  text-align:center;
  color:black;
  overflow:hidden;
}
.card.flipped { transform:rotateY(180deg); }
.card .front, .card .back {
  position:absolute;
  backface-visibility:hidden;
  width:100%;
  text-align:center;
  max-height:100%;
  overflow-y:auto; /* اضافه شد */
  padding:5px;
  word-wrap:break-word;
}
.card .back { transform:rotateY(180deg); color:black; }
</style>
</head>
<body>
<header>MORTI //// AMG</header>
<div class="card-wrapper">
  <div class="card-container">
    <div class="card" id="flashCard" onclick="flipCard()">
      <div class="front" id="front"></div>
      <div class="back" id="back"></div>
    </div>
  </div>
</div>
<script>
const sentences=[
  { text:{ en:"Do I need to go through security again for my connecting flight?", de:"Muss ich für meinen Anschlussflug nochmal durch die Sicherheitskontrolle?", fa:"برای پرواز بعدی باید دوباره از کنترل امنیت عبور کنم؟" }},
  { text:{ en:"Can you help me with my luggage?", de:"Können Sie mir mit meinem Gepäck helfen?", fa:"می‌توانید با چمدانم کمک کنید؟" }},
  { text:{ en:"Hello!", de:"Hallo!", fa:"سلام!" }}
];

let current=0;
const card=document.getElementById('flashCard');
const front=document.getElementById('front');
const back=document.getElementById('back');

function adjustFontSize(element, container) {
    const maxFontSize = 2; // em
    const minFontSize = 1; // em
    let fontSize = maxFontSize;
    element.style.fontSize = fontSize + 'em';

    while(element.scrollHeight > container.clientHeight - 10 && fontSize > minFontSize) {
        fontSize -= 0.05;
        element.style.fontSize = fontSize + 'em';
    }

    element.style.overflowY = element.scrollHeight > container.clientHeight ? 'auto' : 'hidden';
}

function updateCard() {
    // جلوی کارت: فارسی
    front.textContent = sentences[current].text['fa'];

    // پشت کارت: انگلیسی و آلمانی
    back.textContent = ['en','de'].map(l => sentences[current].text[l]).join(' | ');

    // تنظیم فونت خودکار
    adjustFontSize(front, card);
    adjustFontSize(back, card);
}

function flipCard() { card.classList.toggle('flipped'); }
function nextCard() { current = (current + 1) % sentences.length; card.classList.remove('flipped'); updateCard(); }

updateCard();
setInterval(nextCard, 5000);
</script>
</body>
</html>
