<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MORTI //// AMG - Language Learning</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:'Roboto',sans-serif;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  transition:background-image 1s ease-in-out;
  color:black;
  background-size:cover;
  background-position:center;
  overflow-x:hidden;
  background-color:white;
}
@keyframes ledColor {
  0% { color: #ff0000; }
  20% { color: #00ff00; }
  40% { color: #0000ff; }
  60% { color: #ff00ff; }
  80% { color: #00ffff; }
  100% { color: #ff0000; }
}
header {
  width:100%;
  text-align:center;
  padding:20px;
  font-size:2.5em;
  font-weight:bold;
  animation: ledColor 5s infinite;
}

.jokes-bar {
  width:100%;
  overflow:hidden;
  white-space:nowrap;
  padding:10px;
  font-size:1.1em;
  color:black;
  background:rgba(255,255,255,0.6);
  position:relative;
}
.jokes-bar span {
  display:inline-block;
  white-space:nowrap;
  animation: marquee 40s linear infinite;
}
@keyframes marquee { from { transform:translateX(100%); } to { transform:translateX(-100%); } }

.card-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 20px;
  width: 100%;
}
.card-container { perspective: 1000px; }
.card {
  width:400px;
  height:220px;
  background:rgba(0,0,0,0.1);
  border-radius:20px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:2em;
  cursor:pointer;
  transition:transform 0.8s;
  transform-style:preserve-3d;
  box-shadow:0 8px 20px rgba(0,0,0,0.2);
  padding:20px;
  text-align:center;
  color:black;
}
.card.flipped { transform:rotateY(180deg); }
.card .front, .card .back {
  position:absolute;
  backface-visibility:hidden;
  width:100%;
  text-align:center;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  overflow:hidden;
  word-break: break-word;
  font-size:2em;
}
.card .back { transform:rotateY(180deg); color:black; flex-direction:column; }
.card .back span.fa { color:#4caf50; font-weight:bold; }
.card .back span.en { color:#007bff; font-style:italic; }
.card .back span.de { color:#e91e63; font-weight:bold; }
.card .back span { display:block; margin:5px 0; word-break:break-word; }

#guide, #languageGuide, #motivational, .stats { text-align:center; margin:5px 0; }
#motivational { font-size:1.2em; opacity:0; transition:opacity 0.5s; }
.controls, .login-container, .add-sentence { display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:15px; }
button, select, input { padding:6px 12px; border-radius:5px; border:none; cursor:pointer; }
button { background:#ff9800; color:white; }
#hardBtn { background:#e91e63; }
select { background:white; color:black; border:1px solid black; }
.add-sentence input, .login-container input { border:1px solid #ccc; }
.add-sentence button { background:#4caf50; color:white; }
.login-container button { background:#2196f3; color:white; }
</style>
</head>
<body>
<header>MORTI //// AMG</header>

<div class="jokes-bar"><span id="jokes"></span></div>

<div class="card-wrapper">
  <div id="guide"></div>
  <div class="card-container">
    <div class="card" id="flashCard" onclick="flipCard()">
      <div class="front" id="front"></div>
      <div class="back" id="back"></div>
    </div>
  </div>
  <div id="motivational"></div>
</div>

<div class="controls">
<div id="languageGuide"></div>
<select id="language" onchange="changeLanguage()">
<option value="en">English</option>
<option value="de">German</option>
<option value="fa" selected>Farsi</option>
</select>
<button onclick="nextCard()" id="nextBtn">ÿ®ÿπÿØ€å</button>
<button id="hardBtn" onclick="markHard()">Hard</button>
</div>

<div class="stats" id="stats">Progress: 0% | Hard: 0</div>

<div class="login-container" id="loginContainer">
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<div class="add-sentence" id="addSentenceContainer" style="display:none;">
<input type="text" id="enInput" placeholder="English sentence">
<input type="text" id="deInput" placeholder="German sentence">
<input type="text" id="faInput" placeholder="Farsi sentence">
<button onclick="addSentence()">‚ûï Add Sentence</button>
</div>

<script>
// ÿØÿßÿØŸá‚ÄåŸáÿß ŸÜŸÖŸàŸÜŸá
const sentences=[
{ text:{ en:"Do I need to go through security again for my connecting flight?", de:"Muss ich f√ºr meinen Anschlussflug nochmal durch die Sicherheitskontrolle?", fa:"ÿ®ÿ±ÿß€å Ÿæÿ±Ÿàÿßÿ≤ ÿ®ÿπÿØ€å ÿ®ÿß€åÿØ ÿØŸàÿ®ÿßÿ±Ÿá ÿßÿ≤ ⁄©ŸÜÿ™ÿ±ŸÑ ÿßŸÖŸÜ€åÿ™ ÿπÿ®Ÿàÿ± ⁄©ŸÜŸÖÿü" }},
{ text:{ en:"Can you help me with my luggage?", de:"K√∂nnen Sie mir mit meinem Gep√§ck helfen?", fa:"ŸÖ€å‚Äåÿ™ŸàÿßŸÜ€åÿØ ÿ®ÿß ⁄ÜŸÖÿØÿßŸÜŸÖ ⁄©ŸÖ⁄© ⁄©ŸÜ€åÿØÿü" }},
{ text:{ en:"Which gate is for flight number 123?", de:"Welches Gate ist f√ºr Flugnummer 123?", fa:"⁄Ø€åÿ™ Ÿæÿ±Ÿàÿßÿ≤ ÿ¥ŸÖÿßÿ±Ÿá €±€≤€≥ ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü" }},
{ text:{ en:"What time does the flight to Berlin leave?", de:"Wann geht der Flug nach Berlin?", fa:"Ÿæÿ±Ÿàÿßÿ≤ ÿ®Ÿá ÿ®ÿ±ŸÑ€åŸÜ ⁄ÜŸá ÿ≥ÿßÿπÿ™€å ÿ≠ÿ±⁄©ÿ™ ŸÖ€å‚Äå⁄©ŸÜÿØÿü" }},
{ text:{ en:"Hello!", de:"Hallo!", fa:"ÿ≥ŸÑÿßŸÖ!" }},
{ text:{ en:"How are you?", de:"Wie geht's?", fa:"⁄Üÿ∑Ÿàÿ±€åÿü" }}
];

const jokesData = {
  en:["Why don‚Äôt programmers like nature? Too many bugs! üòÇ","I told my computer I needed a break, it froze! ü•∂"],
  de:["Warum m√∂gen Programmierer die Natur nicht? Zu viele Bugs! üêû","Ich sagte meinem Computer, ich brauche eine Pause ‚Äì er st√ºrzte ab! üíª"],
  fa:["⁄Üÿ±ÿß ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸÜŸà€åÿ≥‚ÄåŸáÿß ÿ∑ÿ®€åÿπÿ™ ÿ±Ÿà ÿØŸàÿ≥ÿ™ ŸÜÿØÿßÿ±ŸÜÿü ⁄ÜŸàŸÜ Ÿæÿ± ÿßÿ≤ ÿ®ÿß⁄ØŸá! üêû","ÿ®Ÿá ⁄©ÿßŸÖŸæ€åŸàÿ™ÿ±ŸÖ ⁄ØŸÅÿ™ŸÖ ÿßÿ≥ÿ™ÿ±ÿßÿ≠ÿ™ ŸÖ€å‚ÄåÿÆŸàÿßŸÖÿå €åŸáŸà ŸáŸÜ⁄Ø ⁄©ÿ±ÿØ! üíª"]
};

const motivationalSentences = {
en:["Keep going! You can do it!","Every step counts!","Learning is fun!"],
de:["Mach weiter! Du schaffst das!","Jeder Schritt z√§hlt!","Lernen macht Spa√ü!"],
fa:["ÿßÿØÿßŸÖŸá ÿ®ÿØŸá! ÿ™Ÿà ŸÖ€å‚Äåÿ™ŸàÿßŸÜ€å!","Ÿáÿ± ŸÇÿØŸÖ ŸÖŸáŸÖ ÿßÿ≥ÿ™!","€åÿßÿØ⁄Ø€åÿ±€å ÿ≥ÿ±⁄Øÿ±ŸÖ‚Äå⁄©ŸÜŸÜÿØŸá ÿßÿ≥ÿ™!"]
};

let current=0;
let lang='fa';
let hardCards=[];
let knownCards=[];
let customSentences=[];
let allSentences=[...sentences,...customSentences];

const card=document.getElementById('flashCard');
const front=document.getElementById('front');
const back=document.getElementById('back');
const stats=document.getElementById('stats');
const guide=document.getElementById('guide');
const nextBtn=document.getElementById('nextBtn');
const languageGuide=document.getElementById('languageGuide');
const motivationalDiv=document.getElementById('motivational');
const jokesSpan=document.getElementById('jokes');

function adjustFontSize(element, maxFont=24, minFont=10){
    element.style.fontSize = maxFont + "px";
    let height = element.scrollHeight;
    let cardHeight = element.parentElement.clientHeight - 40;
    let fontSize = maxFont;
    while(height > cardHeight && fontSize > minFont){
        fontSize -= 1;
        element.style.fontSize = fontSize + "px";
        height = element.scrollHeight;
    }
}

function updateCard(){
  front.textContent = allSentences[current].text[lang];
  adjustFontSize(front, 24, 10);
  const otherLangs = ['en','de','fa'].filter(l => l!==lang)
    .map(l => `<span class="${l}">${allSentences[current].text[l]}</span>`).join('');
  back.innerHTML = otherLangs;
  Array.from(back.children).forEach(span => adjustFontSize(span, 24, 10));
  updateStats();
  updateGuide();
  updateLanguageGuide();
  initJokes();
}

function flipCard(){ card.classList.toggle('flipped'); }
function nextCard(){ card.classList.remove('flipped'); current=(current+1)%allSentences.length; updateCard(); }
function changeLanguage(){ lang=document.getElementById('language').value; updateCard(); }
function markHard(){ if(!hardCards.includes(current)) hardCards.push(current); updateStats(); }
function updateStats(){ let progress=Math.round((knownCards.length/allSentences.length)*100); stats.textContent=`Progress: ${progress}% | Hard: ${hardCards.length}`; }
function updateGuide(){
if(lang==='fa'){ guide.textContent="ÿ±Ÿà€å ⁄©ÿßÿ±ÿ™ ⁄©ŸÑ€å⁄© ⁄©ŸÜ ÿ™ÿß ÿ™ÿ±ÿ¨ŸÖŸá ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ÿ¥ŸàÿØ. ÿ≥Ÿæÿ≥ ÿ±Ÿà€å 'ÿ®ÿπÿØ€å' ÿ®ÿ≤ŸÜ ÿ™ÿß ÿ¨ŸÖŸÑŸá ÿ®ÿπÿØ€å ÿ®€åÿß€åÿØ."; nextBtn.textContent="ÿ®ÿπÿØ€å"; }
else if(lang==='en'){ guide.textContent="Click on the card to see the translation. Then press 'Next' for the next sentence."; nextBtn.textContent="Next"; }
else if(lang==='de'){ guide.textContent="Klicke auf die Karte, um die √úbersetzung zu sehen. Dr√ºcke dann 'N√§chste' f√ºr den n√§chsten Satz."; nextBtn.textContent="N√§chste"; }
}
function updateLanguageGuide(){
if(lang==='fa'){ languageGuide.textContent="ÿ≤ÿ®ÿßŸÜ ŸÖŸàÿ±ÿØ ŸÜÿ∏ÿ± ÿÆŸàÿØ ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ:"; }
else if(lang==='en'){ languageGuide.textContent="Select your preferred language:"; }
else if(lang==='de'){ languageGuide.textContent="W√§hle deine Sprache:"; }
}

function initJokes(){ jokesSpan.textContent=jokesData[lang].join(" ‚ö° "); }

function showMotivational(){
  const sentence = motivationalSentences[lang][Math.floor(Math.random()*motivationalSentences[lang].length)];
  motivationalDiv.textContent = sentence;
  motivationalDiv.style.opacity = '1';
  setTimeout(()=>{ motivationalDiv.style.opacity='0'; }, 4000);
}
setInterval(showMotivational, 60000);
setTimeout(showMotivational, 1000);

const ADMIN_USERNAME='admin';
const ADMIN_PASSWORD='1234';
function login(){
  const u=document.getElementById('username').value;
  const p=document.getElementById('password').value;
  if(u===ADMIN_USERNAME && p===ADMIN_PASSWORD){
    alert("Ÿàÿ±ŸàÿØ ŸÖŸàŸÅŸÇ ‚úÖ");
    document.getElementById('loginContainer').style.display='none';
    document.getElementById('addSentenceContainer').style.display='flex';
  }else{ alert("ŸÜÿßŸÖ ⁄©ÿßÿ±ÿ®ÿ±€å €åÿß ÿ±ŸÖÿ≤ ÿßÿ¥ÿ™ÿ®ÿßŸá ‚ùå"); }
}
function addSentence(){
  const en=document.getElementById('enInput').value.trim();
  const de=document.getElementById('deInput').value.trim();
  const fa=document.getElementById('faInput').value.trim();
  if(!en||!de||!fa){ alert("ŸÑÿ∑ŸÅÿß Ÿáÿ± ÿ≥Ÿá ÿ≤ÿ®ÿßŸÜ ÿ±ÿß Ÿæÿ± ⁄©ŸÜ€åÿØ!"); return; }
  const newSentence={text:{en,de,fa}, difficulty:'custom'};
  customSentences.push(newSentence);
  allSentences.push(newSentence);
  alert("‚úÖ ÿ¨ŸÖŸÑŸá ÿßÿ∂ÿßŸÅŸá ÿ¥ÿØ!");
  document.getElementById('enInput').value='';
  document.getElementById('deInput').value='';
  document.getElementById('faInput').value='';
  updateCard();
}

updateCard();
</script>
</body>
</html>
